- Structure things into modules as much as possible.
- Use the `@nestjs/config` package to manage environment variables.
- Use `@nestjs/typeorm` for database interactions.
- Use `@nestjs/mailer` for sending emails.
- Don't worry about unit tests for now.
- Only focus on e2e tests, and give them clear user stories.
- Use `class-validator` and `class-transformer` for DTO validation and transformation.
- We intend to break the application into microservices in the future, so design with that in mind.
- Use TypeScript features like interfaces, types, and generics effectively.
- Follow NestJS best practices for folder structure, dependency injection, and module organization.
- The software should be production-ready, with proper error handling, logging, and security considerations.
- The application is a real estate management platform with user authentication, property listings, and mortgage management.
- The application is broken into services that will each be deployed as AWS Lambda functions behind an API Gateway.
- The common modules (database entities, utilities) should be in a shared library that each service can import. This shared library is called `qshelter-common`, and it is an npm package hosted on an npm registry.
- The event bus module serves as our communication and orchestration channel, and it is also an npm package.
- Never import code directly from one service to another. Always use the shared library or event bus for shared functionality.
- All uploads should use presigned S3 URLs generated by the backend, with uploads happening directly from the frontend to S3.
- All authorization should be handled by the API Gateway using a Lambda authorizer. Services should trust the authorizer and not implement their own authorization logic.
- There must be no entity duplication. All entities must come from the shared library.
- Use config service from @valentine-efagene/qshelter-common for configuration management in all services.
- Don't add .js extensions to import statements.
- Anything that recurs across services should go into the shared library.
